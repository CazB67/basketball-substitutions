(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{8928:function(e,A,r){Promise.resolve().then(r.bind(r,1018))},1018:function(e,A,r){"use strict";r.r(A),r.d(A,{default:function(){return B}});var o=r(7437),a=r(998),l=r(6648),s=r(2265);let t=["hover:bg-slate-200","hover:bg-slate-300","hover:bg-slate-400","hover:bg-slate-500","hover:bg-gray-50","hover:bg-gray-100","hover:bg-gray-200","hover:bg-gray-300","hover:bg-gray-400","hover:bg-gray-500","hover:bg-zinc-50","hover:bg-zinc-100","hover:bg-zinc-200","hover:bg-zinc-300","hover:bg-zinc-400","hover:bg-neutral-50","hover:bg-neutral-100","hover:bg-neutral-200","hover:bg-neutral-300","hover:bg-neutral-400","hover:bg-neutral-500","hover:bg-stone-50","hover:bg-stone-100","hover:bg-stone-200","hover:bg-stone-300","hover:bg-stone-400","hover:bg-stone-500","hover:bg-red-50","hover:bg-red-100","hover:bg-red-200","hover:bg-red-300","hover:bg-red-400","hover:bg-red-500","hover:bg-orange-50","hover:bg-orange-100","hover:bg-orange-200","hover:bg-orange-300","hover:bg-orange-400","hover:bg-orange-500","hover:bg-amber-50","hover:bg-amber-100","hover:bg-amber-200","hover:bg-amber-300","hover:bg-amber-400","hover:bg-amber-500","hover:bg-yellow-50","hover:bg-yellow-100","hover:bg-yellow-200","hover:bg-yellow-300","hover:bg-yellow-400","hover:bg-yellow-500","hover:bg-lime-50","hover:bg-lime-100","hover:bg-lime-200","hover:bg-lime-300","hover:bg-lime-400","hover:bg-lime-500","hover:bg-green-50","hover:bg-green-100","hover:bg-green-200","hover:bg-green-300","hover:bg-green-400","hover:bg-emerald-50","hover:bg-emerald-100","hover:bg-emerald-200","hover:bg-emerald-300","hover:bg-emerald-400","hover:bg-emerald-500","hover:bg-teal-50","hover:bg-teal-100","hover:bg-teal-200","hover:bg-teal-300","hover:bg-teal-400","hover:bg-teal-500","hover:bg-cyan-50","hover:bg-cyan-100","hover:bg-cyan-200","hover:bg-cyan-300","hover:bg-cyan-400","hover:bg-cyan-500","hover:bg-sky-50","hover:bg-sky-100","hover:bg-sky-200","hover:bg-sky-300","hover:bg-sky-400","hover:bg-sky-500","hover:bg-blue-50","hover:bg-blue-100","hover:bg-blue-200","hover:bg-blue-300","hover:bg-blue-400","hover:bg-blue-500","hover:bg-indigo-50","hover:bg-indigo-100","hover:bg-indigo-200","hover:bg-indigo-300","hover:bg-indigo-400","hover:bg-violet-50","hover:bg-violet-100","hover:bg-violet-200","hover:bg-violet-300","hover:bg-violet-400","hover:bg-violet-500","hover:bg-purple-50","hover:bg-purple-100","hover:bg-purple-200","hover:bg-purple-300","hover:bg-purple-400","hover:bg-fuchsia-50","hover:bg-fuchsia-100","hover:bg-fuchsia-200","hover:bg-fuchsia-300","hover:bg-fuchsia-400","hover:bg-pink-50","hover:bg-pink-100","hover:bg-pink-200","hover:bg-pink-300","hover:bg-pink-400","hover:bg-pink-500","hover:bg-rose-50","hover:bg-rose-100","hover:bg-rose-200","hover:bg-rose-300","hover:bg-rose-400","hover:bg-rose-500"],n=()=>{let e=Math.floor(Math.random()*t.length);return t[e]};var i=e=>{let{onClick:A}=e;return(0,o.jsx)("svg",{className:"h-6 w-6 hover:h-8 hover:w-8 fill-pink-400 hover:fill-pink-700",onClick:A,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24px",height:"24px",children:(0,o.jsx)("path",{d:"M 2.8671875 3 L 9.7363281 12.818359 L 2.734375 21 L 5.3808594 21 L 10.919922 14.509766 L 15.460938 21 L 21.371094 21 L 14.173828 10.697266 L 20.744141 3 L 18.138672 3 L 12.996094 9.0097656 L 8.7988281 3 L 2.8671875 3 z"})})},g=r(1375);let h="https://hodczbxdjaelhymiqfby.supabase.co",d="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhvZGN6YnhkamFlbGh5bWlxZmJ5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTkwMjM4OTksImV4cCI6MjAzNDU5OTg5OX0.CJg-xnmZYF-dOhE4kKvbHWRRR3ptsF5RhpVCnoQrqVc";if(!h||!d)throw Error("Missing Supabase URL or Key");let c=(0,g.eI)(h,d);var b=r(920),v=r(3156),m=e=>{let{className:A,team:r}=e,[a,l]=(0,s.useState)(r[0]),[t,g]=(0,s.useState)("");(0,s.useEffect)(()=>{l(r[0])},[r]);let h=async(e,A)=>{e.stopPropagation();let o=a.players.filter(e=>e.id!==A);console.log({team:r,newPlayers:o});let{data:s,error:t}=await c.from("teams").update({players:o}).eq("id",a.id);t||l({...a,players:o})},d=async e=>{if("Enter"!==e.key)return;let A=a.players.concat({name:t,id:(0,b.Z)()});console.log({team:r,newPlayers:A});let{data:o,error:s}=await c.from("teams").update({players:A}).eq("id",a.id);s||l({...a,players:A}),g("")},m=async e=>{let{data:A,error:r}=await c.from("teams").update({players:e}).eq("id",a.id);r||l({...a,players:e}),g("")};return(0,o.jsxs)("div",{className:A||"px-5 py-5 bg-slate-50 rounded-md overflow-y-auto",children:[(0,o.jsx)(v.Z5,{onDragEnd:e=>{if(!e.destination)return;let A=e.source.index,r=e.destination.index,o=[...a.players],[s]=o.splice(A,1);o.splice(r,0,s),l({...a,players:o}),m(o)},children:(0,o.jsx)(v.bK,{droppableId:"players",children:e=>{var A;return(0,o.jsxs)("ul",{className:"flex flex-col gap-2",ref:e.innerRef,...e.droppableProps,children:[a&&(null===(A=a.players)||void 0===A?void 0:A.map((e,A)=>(0,o.jsx)(v._l,{index:A,draggableId:e.id,children:A=>(0,o.jsx)("li",{className:"text-center p-4 bg-blue-300 cursor-pointer rounded-lg ".concat(n()),ref:A.innerRef,...A.draggableProps,...A.dragHandleProps,children:(0,o.jsxs)("span",{className:"flex w-full justify-between",children:[e.name,(0,o.jsx)(i,{onClick:A=>h(A,e.id)})]})})},e.id))),e.placeholder]})}})}),(0,o.jsx)("input",{onChange:e=>g(e.target.value),onKeyDown:d,type:"text",name:"players",className:"mt-4 px-3 py-2 bg-white shadow-sm placeholder-slate-400 focus:outline-none block w-full rounded-md sm:text-sm focus:ring-1",placeholder:"Enter player",value:t})]})},u={src:"/_next/static/media/lightning-hoops.4f9036f4.jpg",height:148,width:121,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoHBwgHBgoICAgLCgoLDhgQDg0NDh0VFhEYIx8lJCIfIiEmKzcvJik0KSEiMEExNDk7Pj4+JS5ESUM8SDc9Pjv/2wBDAQoLCw4NDhwQEBw7KCIoOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozv/wgARCAAIAAcDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAb/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAv/aAAwDAQACEAMQAAABoBL/xAAVEAEBAAAAAAAAAAAAAAAAAAACA//aAAgBAQABBQIRSr//xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oACAEDAQE/AX//xAAVEQEBAAAAAAAAAAAAAAAAAAABAP/aAAgBAgEBPwEC/8QAFxABAQEBAAAAAAAAAAAAAAAAAQIAQf/aAAgBAQAGPwJapY5v/8QAFxAAAwEAAAAAAAAAAAAAAAAAAAEhEf/aAAgBAQABPyFBZbTp/9oADAMBAAIAAwAAABAH/8QAFREBAQAAAAAAAAAAAAAAAAAAAQD/2gAIAQMBAT8QW//EABURAQEAAAAAAAAAAAAAAAAAAAEA/9oACAECAQE/EDF//8QAGBAAAwEBAAAAAAAAAAAAAAAAARExQQD/2gAIAQEAAT8QPt0G2MzLD3//2Q==",blurWidth:7,blurHeight:8},p={src:"/_next/static/media/aztecs.47dda5fd.jpg",height:360,width:360,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoHBwgHBgoICAgLCgoLDhgQDg0NDh0VFhEYIx8lJCIfIiEmKzcvJik0KSEiMEExNDk7Pj4+JS5ESUM8SDc9Pjv/2wBDAQoLCw4NDhwQEBw7KCIoOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozv/wgARCAAIAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAX/xAAUAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAGoB//EABYQAAMAAAAAAAAAAAAAAAAAAAQTFP/aAAgBAQABBQJRtv8A/8QAFREBAQAAAAAAAAAAAAAAAAAAABH/2gAIAQMBAT8Br//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQIBAT8Bf//EABoQAAEFAQAAAAAAAAAAAAAAABIAAREhUXH/2gAIAQEABj8CI2DtRi//xAAZEAACAwEAAAAAAAAAAAAAAAAxUQABEUH/2gAIAQEAAT8htuNIvDn/2gAMAwEAAgADAAAAEAv/xAAVEQEBAAAAAAAAAAAAAAAAAAABAP/aAAgBAwEBPxBTf//EABYRAQEBAAAAAAAAAAAAAAAAAAEAEf/aAAgBAgEBPxAMv//EABsQAAEEAwAAAAAAAAAAAAAAABEAASExQYGh/9oACAEBAAE/EBzaFUh0JPcL/9k=",blurWidth:8,blurHeight:8},x=e=>{let{onClick:A,className:r,team:a}=e,[t,g]=(0,s.useState)(!1),[h,d]=(0,s.useState)(""),[v,m]=(0,s.useState)(""),[x,w]=(0,s.useState)([]),f=async()=>{let{data:e,error:A}=await c.from("teams").select().order("created_at",{ascending:!0});!A&&e?w(e):w([])};(0,s.useEffect)(()=>{f()},[]);let E=()=>{g(!t),d(""),m("")},y=()=>h.split(",").map(e=>e.trim()).map(e=>({id:(0,b.Z)(),name:e})),B=async()=>{let e;h&&(e=y());try{let A=await fetch("/api/teams/submit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({team_name:v,players:e})}),r=await A.json();A.ok?w(x.concat(r.teams)):console.error("Error:",r.error)}catch(e){console.error("Network error:",e)}finally{E()}},Q=async(e,A)=>{e.stopPropagation(),await c.from("teams").delete().eq("id",A.id)&&w(x.filter(e=>e.id!==A.id))};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"".concat(r||"grid wide:grid-cols-4 xl:grid-cols-3 md:grid-cols-2 grid-cols-1 gap-4 w-full max-w-wide px-5 py-5"),children:x.map(e=>(0,o.jsx)("button",{onClick:()=>A(e),className:"relative flex text-left bg-gray-400 bg-opacity-50 backdrop-blur-xl p-9 overflow-hidden relative rounded-[25px] font-mono flex-col gap-1 group transition-all duration-500 ease-linear md:text-white hover:text-gray-700 text-gray-700 ".concat(n),children:(0,o.jsxs)("span",{className:"flex w-full justify-between items-center",children:[(0,o.jsx)(l.default,{className:"rounded-md",width:60,height:void 0,src:e.team_name.toLowerCase().includes("lightning")?u:p,alt:"Team Logo"}),e.team_name,(0,o.jsx)(i,{onClick:A=>Q(A,e)})]})},e.id))}),(0,o.jsx)("button",{onClick:()=>E(),className:"".concat((null==a?void 0:a.length)>0?"hidden":"flex text-left bg-gray-400 bg-opacity-50 backdrop-blur-xl p-9 overflow-hidden relative rounded-[25px] font-mono flex-col gap-1 group transition-all duration-500 ease-linear md:text-white hover:text-gray-700 text-gray-700 hover:bg-fuchsia-300 py-5 mb-8"),children:"Add Team"}),(0,o.jsx)("div",{className:t?"darkBG":"hidden",onClick:()=>E()}),(0,o.jsx)("div",{className:t?"centered":"hidden",children:(0,o.jsxs)("div",{className:t?"modal":"hidden",children:[(0,o.jsx)("div",{className:"modalHeader",children:(0,o.jsx)("h2",{className:"heading",children:"Team Details"})}),(0,o.jsxs)("div",{className:"p-2 flex flex-col gap-2",children:[(0,o.jsxs)("label",{className:"block",children:[(0,o.jsx)("span",{className:"block text-sm font-medium text-slate-700",children:"Team Name"}),(0,o.jsx)("input",{type:"text",onChange:e=>m(e.target.value),name:"teamName",className:"mt-1 px-3 py-2 bg-white border shadow-sm border-slate-300 placeholder-slate-400 focus:outline-none focus:border-sky-500 focus:ring-sky-500 block w-full rounded-md sm:text-sm focus:ring-1",placeholder:"you@example.com"})]}),(0,o.jsxs)("label",{className:"block",children:[(0,o.jsx)("span",{className:"block text-sm font-medium text-slate-700",children:"Players"}),(0,o.jsx)("input",{onChange:e=>d(e.target.value),type:"text",name:"players",className:"mt-1 px-3 py-2 bg-white border shadow-sm border-slate-300 placeholder-slate-400 focus:outline-none focus:border-sky-500 focus:ring-sky-500 block w-full rounded-md sm:text-sm focus:ring-1",placeholder:"Enter names separated by a comma"})]})]}),(0,o.jsxs)("div",{className:"flex gap-2 justify-end p-2",children:[(0,o.jsx)("button",{onClick:()=>E(),className:"border-slate-400 hover:bg-slate-200 w-40 h-10 rounded-lg",children:"Cancel"}),(0,o.jsx)("button",{onClick:()=>B(),className:"bg-lime-100 hover:bg-lime-200 w-40 h-10 rounded-lg",children:"Add"})]})]})})]})},w=r(7801),f=r.n(w),E=e=>{let{onClick:A}=e;return(0,o.jsx)("svg",{className:f().icon,onClick:A,height:"512px",id:"Layer_1",version:"1.1",viewBox:"0 0 512 512",width:"512px",xmlns:"http://www.w3.org/2000/svg",children:(0,o.jsx)("polygon",{points:"352,128.4 319.7,96 160,256 160,256 160,256 319.7,416 352,383.6 224.7,256 "})})},y={src:"/_next/static/media/ballandhoop.97aede88.jpg",height:2100,width:1500,blurDataURL:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/sBCgoKCgoKCwwMCw8QDhAPFhQTExQWIhgaGBoYIjMgJSAgJSAzLTcsKSw3LVFAODhAUV5PSk9ecWVlcY+Ij7u7+//CABEIAAgABgMBIgACEQEDEQH/xAAoAAEBAAAAAAAAAAAAAAAAAAAABAEBAQAAAAAAAAAAAAAAAAAAAwT/2gAMAwEAAhADEAAAALRUP//EAB0QAAICAQUAAAAAAAAAAAAAAAECAwUABBESIUL/2gAIAQEAAT8AS3qkWB59cjgwgcFTrces/8QAGREAAQUAAAAAAAAAAAAAAAAAAQACAwQx/9oACAECAQE/ABTiI1y//8QAGxEAAAcBAAAAAAAAAAAAAAAAAAECAwQRMUH/2gAIAQMBAT8AOU5eJ4P/2Q==",blurWidth:6,blurHeight:8};function B(){let{data:e}=(0,a.useSession)(),[A,r]=(0,s.useState)([]);if(e){var t,n,i,g;return(0,o.jsxs)("div",{className:"w-full h-screen flex flex-col justify-center items-center relative",children:[A.length>0&&(0,o.jsx)(E,{onClick:()=>r([])}),(0,o.jsx)("div",{className:"w-20 h-20 relative mb-4",children:(0,o.jsx)(l.default,{src:(null==A?void 0:null===(t=A[0])||void 0===t?void 0:t.team_name)?A[0].team_name.toLowerCase().includes("lightning")?u:p:(null===(n=e.user)||void 0===n?void 0:n.image)||"",fill:!0,sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw",alt:"",className:"object-cover rounded-full"})}),(0,o.jsxs)("p",{className:"".concat(A.length<1?"text-2xl mb-2":"hidden"),children:["Welcome ",(0,o.jsx)("span",{className:"font-bold",children:null===(i=e.user)||void 0===i?void 0:i.name}),". Signed In As"]}),(0,o.jsx)("p",{className:"".concat(A.length<1?"font-bold mb-4":"hidden"),children:null===(g=e.user)||void 0===g?void 0:g.email}),A.length>0&&(0,o.jsx)(m,{className:"",team:A}),(0,o.jsx)(x,{team:A,onClick:e=>r([e]),className:A.length>0?"hidden":""}),(0,o.jsx)("button",{className:"bg-green-50 hover:bg-green-100 py-2 px-6 rounded-md",onClick:()=>(0,a.signOut)(),children:"Sign out"})]})}return(0,o.jsxs)("div",{className:"w-full h-screen flex flex-col justify-center items-center gap-4 py-4",children:[(0,o.jsx)("h1",{className:"text-2xl font-bold",children:"Basketball Substitutions"}),(0,o.jsx)(l.default,{className:"rounded-md",priority:!0,width:"200",height:void 0,src:y,alt:"Basketball and hoop"}),(0,o.jsxs)("div",{className:"w-full h-screen flex flex-col justify-start items-center gap-4",children:[(0,o.jsx)("button",{className:"bg-blue-200 hover:bg-blue-300 py-2 px-6 rounded-md",onClick:()=>(0,a.signIn)("google"),children:"Sign in with Google"}),(0,o.jsx)("button",{className:"bg-slate-200 hover:bg-slate-300 py-2 px-6 rounded-md",onClick:()=>(0,a.signIn)("github"),children:"Sign in with Github"})]})]})}},7801:function(e){e.exports={icon:"BackArrowIcon_icon__mWjs6"}}},function(e){e.O(0,[751,338,998,580,971,23,744],function(){return e(e.s=8928)}),_N_E=e.O()}]);